"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[995],{71520:function(e,t,n){n.d(t,{f:function(){return r}});var i,l=Object.defineProperty;function r(e,t){let n=[],i=e;for(;null==i?void 0:i.kind;)n.push(i),i=i.prevState;for(let l=n.length-1;l>=0;l--)t(n[l])}l(r,"name",{value:"forEachState",configurable:!0})},85995:function(e,t,n){n.r(t);var i=n(97480),l=n(93058),r=n(3801),a=n(71520);n(59361),n(67294),n(73935);var o=Object.defineProperty,f=(e,t)=>o(e,"name",{value:t,configurable:!0});function s(e,t,n){let i=u(n,c(t.string));if(!i)return;let l=null!==t.type&&/"|\w/.test(t.string[0])?t.start:t.end;return{list:i,from:{line:e.line,ch:l},to:{line:e.line,ch:t.end}}}function u(e,t){if(!t)return p(e,e=>!e.isDeprecated);let n=e.map(e=>({proximity:d(c(e.text),t),entry:e})),i=p(p(n,e=>e.proximity<=2),e=>!e.entry.isDeprecated),l=i.sort((e,t)=>(e.entry.isDeprecated?1:0)-(t.entry.isDeprecated?1:0)||e.proximity-t.proximity||e.entry.text.length-t.entry.text.length);return l.map(e=>e.entry)}function p(e,t){let n=e.filter(t);return 0===n.length?e:n}function c(e){return e.toLowerCase().replace(/\W/g,"")}function d(e,t){let n=y(t,e);return e.length>t.length&&(n-=e.length-t.length-1,n+=0===e.indexOf(t)?0:.5),n}function y(e,t){let n,i,l=[],r=e.length,a=t.length;for(n=0;n<=r;n++)l[n]=[n];for(i=1;i<=a;i++)l[0][i]=i;for(n=1;n<=r;n++)for(i=1;i<=a;i++){let o=e[n-1]===t[i-1]?0:1;l[n][i]=Math.min(l[n-1][i]+1,l[n][i-1]+1,l[n-1][i-1]+o),n>1&&i>1&&e[n-1]===t[i-2]&&e[n-2]===t[i-1]&&(l[n][i]=Math.min(l[n][i],l[n-2][i-2]+o))}return l[r][a]}function m(e,t,n){let i="Invalid"===t.state.kind?t.state.prevState:t.state,a=i.kind,o=i.step;if("Document"===a&&0===o)return s(e,t,[{text:"{"}]);let f=n.variableToType;if(!f)return;let u=g(f,t.state);if("Document"===a||"Variable"===a&&0===o){let p=Object.keys(f);return s(e,t,p.map(e=>({text:`"${e}": `,type:f[e]})))}if(("ObjectValue"===a||"ObjectField"===a&&0===o)&&u.fields){let c=Object.keys(u.fields).map(e=>u.fields[e]);return s(e,t,c.map(e=>({text:`"${e.name}": `,type:e.type,description:e.description})))}if("StringValue"===a||"NumberValue"===a||"BooleanValue"===a||"NullValue"===a||"ListValue"===a&&1===o||"ObjectField"===a&&2===o||"Variable"===a&&2===o){let d=u.type?(0,l.xC)(u.type):void 0;if(d instanceof l.sR)return s(e,t,[{text:"{"}]);if(d instanceof l.mR){let y=d.getValues();return s(e,t,y.map(e=>({text:`"${e.name}"`,type:d,description:e.description})))}if(d===r.EZ)return s(e,t,[{text:"true",type:r.EZ,description:"Not false."},{text:"false",type:r.EZ,description:"Not true."}])}}function g(e,t){let n={type:null,fields:null};return(0,a.f)(t,t=>{if("Variable"===t.kind)n.type=e[t.name];else if("ListValue"===t.kind){let i=n.type?(0,l.tf)(n.type):void 0;n.type=i instanceof l.p2?i.ofType:null}else if("ObjectValue"===t.kind){let r=n.type?(0,l.xC)(n.type):void 0;n.fields=r instanceof l.sR?r.getFields():null}else if("ObjectField"===t.kind){let a=t.name&&n.fields?n.fields[t.name]:null;n.type=null==a?void 0:a.type}}),n}f(s,"hintList"),f(u,"filterAndSortList"),f(p,"filterNonEmpty"),f(c,"normalizeText"),f(d,"getProximity"),f(y,"lexicalDistance"),i.C.registerHelper("hint","graphql-variables",(e,t)=>{let n=e.getCursor(),l=e.getTokenAt(n),r=m(n,l,t);return(null==r?void 0:r.list)&&r.list.length>0&&(r.from=i.C.Pos(r.from.line,r.from.ch),r.to=i.C.Pos(r.to.line,r.to.ch),i.C.signal(e,"hasCompletion",e,r,l)),r}),f(m,"getVariablesHint"),f(g,"getTypeInfo")}}]);